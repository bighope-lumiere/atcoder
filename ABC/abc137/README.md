# AtCoder Beginner Contest 137

解説: まだ

## D - Summer Vacation

選べる仕事の選択肢は後半になるほど制約が厳しくなっていくので、後ろから考えてみます。

- $M - i$ 日後 ($1 \leq i \leq M$) には、 `A[j] <= i` となるバイトしか出来ないとみなしてよい
- つまり、`A[j] <= i` なる j の中で `B[j]` が最大となるものを考えていけばよい

という感じで考察できます。

python の `heapq` モジュールを使って、

- 候補を追加する
- 最大を取り出す

の作業を行えば計算も間に合います。

## python の heapq (優先度付きキュー) に関するメモ

D 問題で利用した heapq についてのメモ。

ヒープというのはグラフの木構造の1つで、これはプライオリティキューを実現するときに利用される。プライオリティキューはデータ構造の一種で、データを自由に追加でき、取り出すときには最小値から順に選ばれるようになっている。

キュー（FIFO）やスタック（LIFO）のような追加した順番で要素を保持するのとは異なり、heapq では要素を最小値が先頭にくるようにソートして保持する。

heapq は **要素を追加しながら、最小値を取り出す作業を何度も繰り返すとき** に強さを発揮する。具体的には $O(\log{N})$ で追加と削除、 $O(1)$ で最小値の取得が行える。

### heapq の基本的な使い方

まずは heapq モジュールを import する。

```python
import heapq
```

heap化されたリストを作成するには、次の2つの方法がある。

```python
hq = []  # 初期化
heapq.heapify(hq)  # 既存のリストhqをheap化する
```

python の heapq では基本的に以下の 2 つがよく使われる。

```python
heapq.heappush(hq, x)  # リストhqに要素xを追加する
heapq.heappop(hq)  # リストhqから最小値を削除して出力
```

- 最大値を取り出したいときは、要素全てを -1 倍して考えればよい。（出力するときに -1 倍しなおすことを忘れずに！）
- ちなみに、 push してすぐ pop を行うときは `heapq.heappushpop(hq, x)` を用いるとさらに計算量が削減される。
